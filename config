# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout somewhen, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4
set $confDir ~/.config/i3

set $defaultBorderPx 4

# zenburn colors
set $bg_grey #333333
set $md_grey #555555
set $lt_grey #777777
set $fg #dcdccc
set $dk_grey #1c1c1c
set $blue #6ca0a3
set $blue_1 #4c7073
set $green #7f9f7f
set $orange #dfaf8f
set $yellow #f0dfaf
set $red #cc9393

set $font -*-terminus-medium-*-*-*-14-*-*-*-*-*-*-*
set $pangoFont pango:Ubuntu 8
set $pangoMono pango:Ubuntu Mono 8

# font for window titles. ISO 10646 = Unicode
font $pangoFont

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

workspace_auto_back_and_forth no
# start a terminal
bindsym $mod+Return exec "TERMINAL=termite i3-sensible-terminal"
# start an emacs client
bindsym $mod+Shift+Return exec "$confDir/bin/dmenu-emacs-client"
bindsym $mod+Shift+Ctrl+Return exec "emacs -q -l $HOME/.emacs.d/light.el"

# kill focused window
bindsym $mod+Shift+Q kill

# start dmenu (a program launcher)
bindsym $mod+r exec "$confDir/bin/make-menu -r -p 'What the fuck do you want? '"
bindsym $mod+space exec "$confDir/bin/make-menu -s -p 'What the fuck do you want? '"

bindsym $mod+a exec "$confDir/bin/make-menu -w -f 'Ubuntu Mono 18' -p 'What the fuck do you want? '"
bindsym $mod+Shift+semicolon exec "python3 $confDir/python/rename.py"

bindsym $mod+Shift+b border normal
bindsym $mod+Shift+Ctrl+b border pixel $defaultBorderPx

# take screenshot of active window
bindsym $mod+Shift+Ctrl+c exec "import -window $(xdotool getwindowfocus -f) $HOME/pictures/screenshots/screenshot-$(date +%Y%m%d-%H%M%S).jpg"

bindsym $mod+Ctrl+L exec "$confDir/bin/lock $confdir/lib/lock.png"

# mark window
bindsym $mod+apostrophe exec i3-input -f '$pangoMono' -F 'mark %s' -P 'mark: '
bindsym $mod+Shift+quotedbl exec i3-input -f '$pangoMono' -F '[con_mark="%s"] focus' -P 'goto: '

# i3 prompt
bindsym $mod+x exec i3-input -f '$pangoMono'

# change wallpaper
bindsym $mod+Shift+W exec systemctl --user start random-wallpaper

# volume control
bindsym $mod+equal exec "pulseaudio-ctl up", exec "pkill -RTMIN+12 i3blocks"
bindsym $mod+minus exec "pulseaudio-ctl down", exec "pkill -RTMIN+12 i3blocks"
bindsym XF86AudioRaiseVolume exec "pulseaudio-ctl up", exec "pkill -RTMIN+12 i3blocks"
bindsym XF86AudioLowerVolume exec "pulseaudio-ctl down", exec "pkill -RTMIN+12 i3blocks"
bindsym XF86AudioMute exec "pulseaudio-ctl mute", exec "pkill -RTMIN+12 i3blocks"
bindsym XF86AudioPlay exec "cmus-play"
bindsym XF86AudioNext exec "cmus-remote -n"
bindsym XF86AudioPrev exec "cmus-remote -r"

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+H move left
bindsym $mod+Shift+J move down
bindsym $mod+Shift+K move up
bindsym $mod+Shift+L move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

bindsym $mod+Tab workspace back_and_forth
bindsym $mod+Shift+Tab move workspace back_and_forth


bindsym $mod+Shift+M mark "scratchterm", move scratchpad
bindsym $mod+m [con_mark="scratchterm"] scratchpad show
bindsym $mod+Shift+C mark "scratchchat", move scratchpad
bindsym $mod+c [con_mark="scratchchat"] scratchpad show
bindsym $mod+Shift+N mark "scratchemacs", move scratchpad
bindsym $mod+n [con_mark="scratchemacs"] scratchpad show
bindsym $mod+Shift+F1 mark "scratch1", move scratchpad
bindsym $mod+F1 [con_mark="scratch1"] scratchpad show
bindsym $mod+Shift+F2 mark "scratch2", move scratchpad
bindsym $mod+F2 [con_mark="scratch2"] scratchpad show
bindsym $mod+Shift+F3 mark "scratch3", move scratchpad
bindsym $mod+F3 [con_mark="scratch3"] scratchpad show
bindsym $mod+Shift+F4 mark "scratch4", move scratchpad
bindsym $mod+F4 [con_mark="scratch4"] scratchpad show
bindsym $mod+Shift+F5 mark "scratch5", move scratchpad
bindsym $mod+F5 [con_mark="scratch5"] scratchpad show
bindsym $mod+Shift+F6 mark "scratch6", move scratchpad
bindsym $mod+F6 [con_mark="scratch6"] scratchpad show
bindsym $mod+Shift+F7 mark "scratch7", move scratchpad
bindsym $mod+F7 [con_mark="scratch7"] scratchpad show
bindsym $mod+Shift+F8 mark "scratch8", move scratchpad
bindsym $mod+F8 [con_mark="scratch8"] scratchpad show
bindsym $mod+Shift+F9 mark "scratch9", move scratchpad
bindsym $mod+F9 [con_mark="scratch9"] scratchpad show
bindsym $mod+Shift+F10 mark "scratch10", move scratchpad
bindsym $mod+F10 [con_mark="scratch10"] scratchpad show
bindsym $mod+Shift+F11 mark "scratch11", move scratchpad
bindsym $mod+F11 [con_mark="scratch11"] scratchpad show
bindsym $mod+Shift+F12 mark "scratch12", move scratchpad
bindsym $mod+F12 [con_mark="scratch12"] scratchpad show

# split in horizontal orientation
bindsym $mod+b split h

# split in vertical orientation
bindsym $mod+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

# change container layout (stacked, tabbed, default)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout default

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle
bindsym $mod+Control+space floating toggle

# focus the parent container
bindsym $mod+p focus parent

# focus the child container
#bindcode $mod+d focus child

# for_window [class="^vivaldi-stable" instance="^crx.*"] border normal,floating enable
for_window [class="^Google-chrome" instance="^crx.*"] border normal,floating enable
for_window [class="^Google-chrome" instance="^crx.*"] border normal,floating enable
for_window [class="^chromium" instance="^crx.*"] border normal,floating enable
for_window [class="^Pwsafe"] border normal,floating enable
for_window [class="^feh"] floating enable
for_window [class="^Pidgin"] border normal
for_window [class="^VirtualBox"] floating enable
for_window [class="^TeamViewer"] floating enable
for_window [class="^Tresorit"] floating enable
for_window [class="^telegram"] floating enable
for_window [class="^Steam"] floating enable
for_window [class="^Pinentry"] floating enable

new_window pixel $defaultBorderPx
new_float pixel $defaultBorderPx
hide_edge_borders smart

# switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10
bindsym $mod+Control+1 workspace number 11
bindsym $mod+Control+2 workspace number 12
bindsym $mod+Control+3 workspace number 13
bindsym $mod+Control+4 workspace number 14
bindsym $mod+Control+5 workspace number 15
bindsym $mod+Control+6 workspace number 16
bindsym $mod+Control+7 workspace number 17
bindsym $mod+Control+8 workspace number 18
bindsym $mod+Control+9 workspace number 19
bindsym $mod+Control+0 workspace number 20

bindsym $mod+o exec "$confDir/bin/i3-next-output"
bindsym $mod+Shift+o exec "$confDir/bin/i3-move-container-next-output"
bindsym $mod+Shift+greater exec "$confDir/bin/i3-move-workspace-next-output"
bindsym $mod+Shift+less exec "$confDir/bin/i3-move-workspace-previous-output"

# move focused container to workspace
bindsym $mod+Shift+exclam              move container to workspace number 1
bindsym $mod+Shift+at                  move container to workspace number 2
bindsym $mod+Shift+numbersign          move container to workspace number 3
bindsym $mod+Shift+dollar              move container to workspace number 4
bindsym $mod+Shift+percent             move container to workspace number 5
bindsym $mod+Shift+asciicircum         move container to workspace number 6
bindsym $mod+Shift+ampersand           move container to workspace number 7
bindsym $mod+Shift+asterisk            move container to workspace number 8
bindsym $mod+Shift+parenleft           move container to workspace number 9
bindsym $mod+Shift+parenright          move container to workspace number 10
bindsym $mod+Control+Shift+exclam      move container to workspace number 11
bindsym $mod+Control+Shift+at          move container to workspace number 12
bindsym $mod+Control+Shift+numbersign  move container to workspace number 13
bindsym $mod+Control+Shift+dollar      move container to workspace number 14
bindsym $mod+Control+Shift+percent     move container to workspace number 15
bindsym $mod+Control+Shift+asciicircum move container to workspace number 16
bindsym $mod+Control+Shift+ampersand   move container to workspace number 17
bindsym $mod+Control+Shift+asterisk    move container to workspace number 18
bindsym $mod+Control+Shift+parenleft   move container to workspace number 19
bindsym $mod+Control+Shift+parenright  move container to workspace number 20

# reload the configuration file
bindsym $mod+Control+Shift+R reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+R restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+E exec i3-nagbar -m "Exit i3?" -t warning -b "exit" "i3-msg exit" -b "switch user" "/usr/bin/dm-tool switch-to-greeter" -f "$pangoFont"
bindsym $mod+Control+Shift+E exec /usr/bin/dm-tool switch-to-greeter

# resize window (you can also use the mouse for that)
mode "resize" {
    # These bindings trigger as soon as you enter the resize mode

    # They resize the border in the direction you pressed, e.g.
    # when pressing left, the window is resized so that it has
    # more space on its left

    bindsym h resize grow left 5 px or 5 ppt
    bindsym Shift+H resize shrink   left 5 px or 5 ppt

    bindsym j resize grow down 5 px or 5 ppt
    bindsym Shift+J resize shrink   down 5 px or 5 ppt

    bindsym k resize grow up 5 px or 5 ppt
    bindsym Shift+K resize shrink   up 5 px or 5 ppt

    bindsym l resize grow right 5 px or 5 ppt
    bindsym Shift+L resize shrink   right 5 px or 5 ppt

    # same bindings, but for the arrow keys
    bindsym Left resize grow left 5 px or 5 ppt
    bindsym Shift+Left resize shrink   left 5 px or 5 ppt

    bindsym Down resize grow down 5 px or 5 ppt
    bindsym Shift+Down resize shrink   down 5 px or 5 ppt

    bindsym Up resize grow up 5 px or 5 ppt
    bindsym Shift+Up resize shrink   up 5 px or 5 ppt

    bindsym Right resize grow right 5 px or 5 ppt
    bindsym Shift+Right resize shrink   right 5 px or 5 ppt

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+y mode "resize"

mode "tmux" {

     set $mod Mod4

     bindsym --release $mod+1 exec xdotool key --clearmodifiers ctrl+a 1
     bindsym --release $mod+2 exec xdotool key --clearmodifiers ctrl+a 2
     bindsym --release $mod+3 exec xdotool key --clearmodifiers ctrl+a 3
     bindsym --release $mod+4 exec xdotool key --clearmodifiers ctrl+a 4
     bindsym --release $mod+5 exec xdotool key --clearmodifiers ctrl+a 5
     bindsym --release $mod+6 exec xdotool key --clearmodifiers ctrl+a 6
     bindsym --release $mod+7 exec xdotool key --clearmodifiers ctrl+a 7
     bindsym --release $mod+8 exec xdotool key --clearmodifiers ctrl+a 8
     bindsym --release $mod+9 exec xdotool key --clearmodifiers ctrl+a 9

     bindsym --release $mod+v exec xdotool key --clearmodifiers ctrl+a quotedbl
     bindsym --release $mod+b exec xdotool key --clearmodifiers ctrl+a percent
     bindsym --release $mod+shift+q exec xdotool key --clearmodifiers ctrl+a x
     bindsym --release $mod+n exec xdotool key --clearmodifiers ctrl+a c

     bindsym --release $mod+f exec xdotool key --clearmodifiers ctrl+a z

     bindsym --release $mod+Tab exec xdotool key --clearmodifiers ctrl+a ctrl+a

     bindsym --release $mod+o exec xdotool key --clearmodifiers ctrl+a o
     bindsym --release $mod+h exec xdotool key --clearmodifiers ctrl+a h
     bindsym --release $mod+j exec xdotool key --clearmodifiers ctrl+a j
     bindsym --release $mod+k exec xdotool key --clearmodifiers ctrl+a k
     bindsym --release $mod+l exec xdotool key --clearmodifiers ctrl+a l


    bindsym $mod+t mode "default"
}


bindsym $mod+t mode "tmux"


# gaps stuff

gaps inner 20

set $mode_gaps Gaps: (o) outer, (i) inner
set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
bindsym $mod+Shift+g mode "$mode_gaps"

mode "$mode_gaps" {
        bindsym o      mode "$mode_gaps_outer"
        bindsym i      mode "$mode_gaps_inner"
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

mode "$mode_gaps_inner" {
        bindsym plus  gaps inner current plus 5
        bindsym minus gaps inner current minus 5
        bindsym 0     gaps inner current set 0

        bindsym Shift+plus  gaps inner all plus 5
        bindsym Shift+minus gaps inner all minus 5
        bindsym Shift+0     gaps inner all set 0

        bindsym Return mode "default"
        bindsym Escape mode "default"
}
mode "$mode_gaps_outer" {
        bindsym plus  gaps outer current plus 5
        bindsym minus gaps outer current minus 5
        bindsym 0     gaps outer current set 0

        bindsym Shift+plus  gaps outer all plus 5
        bindsym Shift+minus gaps outer all minus 5
        bindsym Shift+0     gaps outer all set 0

        bindsym Return mode "default"
        bindsym Escape mode "default"
}


# keys for connecting and disconnecting screen
bindsym $mod+z exec "$confDir/bin/connect-screen -w"
bindsym $mod+Shift+Z exec "$confDir/bin/disconnect-screen -w"

#colors                 border   bg       text     indicator
client.focused          $blue    $blue    $dk_grey $orange
client.focused_inactive $md_grey $md_grey $dk_grey $orange
client.unfocused        $bg_grey $bg_grey $fg      $bg_grey
client.urgent           $red     $red     $fg      $dk_grey

bar {
    status_command i3blocks -c $confDir/blocks/bottom.conf
    font pango:Ubuntu, FontAwesome 12px
    colors {
        background $bg_grey
        statusline $fg

        focused_workspace  $blue $lt_grey $dk_grey
        active_workspace   $blue $dk_grey $blue
        inactive_workspace $blue_1 $dk_grey $lt_grey
        urgent_workspace   $red $dk_grey $red
    }
}

bar {
    status_command i3blocks -c $confDir/blocks/top.conf
    font pango:Ubuntu, FontAwesome 12px
    position top
    workspace_buttons no
    tray_output none
    colors {
        background $bg_grey
        statusline $fg
        urgent_workspace   $red $dk_grey $red
    }
}

exec "$confDir/bin/xinitscript"
exec "compton"
exec "gpg-connect-agent <<<UPDATESTARTUPTTY"
